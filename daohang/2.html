<!DOCTYPE html>
<html class="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>导航</title>
  <base href="https://shizuku233.github.io/daohang/" target="_blank">
  <link rel="icon" href="./images/icon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="./css/style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./JavaScript/sites.js"></script>
  <script>
    var themeMedia = window.matchMedia("(prefers-color-scheme: dark)");
    if (themeMedia.matches) {
      changeTheme();
    }
    themeMedia.addEventListener("change", (e) => {
      if (e.matches) {
        document.documentElement.classList.remove("light");
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
        document.documentElement.classList.add("light");
      }
    });
    function changeTheme() {
      var isDark = document.querySelector(".dark");
      if (isDark) {
        document.documentElement.classList.remove("dark");
        document.documentElement.classList.add("light");
      } else {
        document.documentElement.classList.remove("light");
        document.documentElement.classList.add("dark");
      }
    }
</script>
</head>
<body>
<div class="container">
<nav class="navbar navbar-expand" style="position: sticky; top: 0;">
  <div class="navbar-nav">
    <a class="nav-link" href="./index.html" target="_self">1</a>
    <a class="nav-link" href="./2.html" target="_self">2</a>
    <a class="nav-link" href="./3.html" target="_self">3</a>
    <a class="nav-link" href="./4.html" target="_self">4</a>
    <a class="nav-link" href="./5.html" target="_self">5</a>
    <a class="nav-link" href="./6.html" target="_self">6</a>
  </div>
  <div id="changeTheme" onclick="changeTheme();b()">
  <i class="bi bi-sun"></i>
  <script>
    b();
    function b() {
      if (document.querySelector(".dark")) {
        document.querySelector("#changeTheme > i").classList.remove("bi-sun");
        document.querySelector("#changeTheme > i").classList.add("bi-moon");
      } else {
        document.querySelector("#changeTheme > i").classList.remove("bi-moon");
        document.querySelector("#changeTheme > i").classList.add("bi-sun");
      }
    }
  </script>
</div>
</nav>
<p></p>
<form class="input-group" id="search" action="https://www.baidu.com/s">
  <label class="input-group-text" for="s">站点选择</label>
  <select class="form-select" id="s" onchange="setSite()">
    <option>2DFan</option>
    <option selected>百度</option>
    <option>Bangumi</option>
    <option>Google</option>
    <option>MyGalgame</option>
    <option>VNDB</option>
  </select>
  <input type="text" name="wd" class="form-control" placeholder="请输入关键词">
  <button type="submit" class="btn btn-outline-primary"><i class="bi bi-search"></i></button>
</form>
<script>
  function setSite() {
    const SITE = {
      "2DFan": {action: "https://galge.fun/subjects/search", name: "keyword", method: ""},
      百度: {action: "https://www.baidu.com/s", name: "wd", method: ""},
      Bangumi: {action: "https://bangumi.tv/subject_search", name: "search_text", method: "post"},
      Google: {action: "https://www.google.com/search", name: "q", method: ""},
      MyGalgame: {action: "https://www.okloli.com", name: "s", method: ""},
      VNDB: {action: "https://vndb.org/v", name: "sq", method: ""},
    };
    var s = document.querySelector("#s");
    var site = s.options[s.selectedIndex].value;
    s.nextElementSibling.setAttribute("name", SITE[site].name);
    s.nextElementSibling.setAttribute("method", SITE[site].method);
    s.parentNode.setAttribute("action", SITE[site].action);
  }
</script>
<p></p>
<div class="input-group mb-3">
  <label class="input-group-text" for="site">站点选择</label>
  <select class="form-select" id="site">
    <option value="https://yun.zdfx.org/home/galgame/">OneDrive</option>
    <option value="https://pan.zdfx.org/">直连</option>
  </select>
  <label class="input-group-text" for="alpha">字母选择</label>
  <select class="form-select" id="alpha">
    <option value="AB">AB</option>
    <option value="CD">CD</option>
    <option value="EFG">EFG</option>
    <option value="HI">HI</option>
    <option value="JK">JK</option>
    <option value="L">L</option>
    <option value="M">M</option>
    <option value="N">N</option>
    <option value="OPQ">OPQ</option>
    <option value="R">R</option>
    <option value="S">S</option>
    <option value="T">T</option>
    <option value="UVW">UVW</option>
    <option value="X">X</option>
    <option value="Y">Y</option>
    <option value="Z">Z</option>
    <option value="CD">CD</option>
    <option value="數字符號">數字符號</option>
    <option value="假名">假名</option>
  </select>
  <label class="input-group-text" for="title">游戏标题</label>
  <input type="text" id="title" class="form-control" placeholder="请输入标题">
  <button class="btn btn-outline-primary" onclick="openurl()">打开链接</button>
</div>
<script>
  function openurl() {
    var site = document.querySelector("#site");
    site = site.options[site.selectedIndex].value;
    var alpha = document.querySelector("#alpha");
    alpha = alpha.options[alpha.selectedIndex].value;
    var title = document.querySelector("#title").value;
    var url = site + alpha + "/" + title + "/"
    window.open(url);
  }
</script>
<div></div>
<script>
  for (let category in sites) {
    var nav_site = document.createElement("div");
    var nav_site_title = document.createElement("div");
    nav_site_title.setAttribute("class", "nav_site_title");
    nav_site_title.appendChild(document.createTextNode(category));
    nav_site.setAttribute("class", "nav_site");
    nav_site.appendChild(nav_site_title);
    document.querySelector("body > div > div:nth-child(8)").appendChild(nav_site);
    for (let site_bar of sites[category]) {
      var nav_site_bar = document.createElement("div");
      nav_site_bar.setAttribute("class", "nav_site_bar");
      nav_site.appendChild(nav_site_bar);
      for (let item of site_bar) {
        var a = document.createElement("a");
        a.setAttribute("href", item.href);
        var img = document.createElement("img");
        img.setAttribute("src", item.icon);
        var span = document.createElement("span");
        span.appendChild(document.createTextNode(item.name));
        a.appendChild(img);
        a.appendChild(span);
        nav_site_bar.appendChild(a);
      }
    }
  }
</script>
<div class="btn-group" role="group">
  <button class="btn btn-outline-success" onclick="document.querySelector('body').setAttribute('style', 'background:url(./images/pixiv/氷桜の剣客.jpg);background-size:cover;')">切换背景</button>
  <button class="btn btn-outline-success" onclick="document.querySelector('#color').setAttribute('src', './images/pixiv/氷桜の剣客.jpg')">来点S图</button>
</div>
<img id="color" src="">
<script>
// 初始化提示框
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})
</script>
</div>
</body>
</html>
